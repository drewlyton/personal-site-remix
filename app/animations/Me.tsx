import gsap from "gsap";
import React, { useEffect } from "react";
import { AniComp } from "./AniComp";

const Me: React.FC<AniComp> = () => {
  useEffect(animate, []);
  return (
    <div className="max-w-[483px] flex-grow">
      <svg
        width="100%"
        height="100%"
        viewBox="0 0 375 434"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
        xmlnsXlink="http://www.w3.org/1999/xlink"
      >
        <path
          id="bg-fill"
          d="M356.718 334.093C358.692 375.997 340.464 380.699 303.074 398.826C265.684 416.954 228.993 419.345 193 406C157.007 392.655 128.894 399.855 107.621 376.971C86.3483 354.088 68.1686 329.832 53.0822 304.204C37.9959 278.575 23.2197 245.84 8.75368 205.997C-5.71233 166.154 5.86018 137.527 43.4712 120.118C81.0822 102.708 115.945 82.466 148.06 59.3917C180.175 36.3174 216.99 29.004 258.506 37.4515C300.022 45.8989 322.374 72.5368 325.562 117.365C328.749 162.193 334.245 199.045 342.05 227.922C349.855 256.798 354.744 292.189 356.718 334.093Z"
        />
        <clipPath id="mask" x="2" y="34" width="355" height="381">
          <path
            d="M356.718 334.093C358.692 375.997 340.464 380.699 303.074 398.826C265.684 416.954 228.993 419.345 193 406C157.007 392.655 128.894 399.855 107.621 376.971C86.3483 354.088 68.1686 329.832 53.0822 304.204C37.9959 278.575 23.2197 245.84 8.75367 205.997C-5.71234 166.154 5.86016 137.527 43.4712 120.118C81.0822 102.708 115.945 82.466 148.06 59.3917C180.175 36.3174 216.99 29.004 258.506 37.4515C300.022 45.8989 322.374 72.5368 325.561 117.365C328.749 162.193 334.245 199.045 342.05 227.922C349.855 256.798 354.744 292.189 356.718 334.093Z"
            fill="none"
          />
        </clipPath>
        <g id="masked-items" clipPath="url(#mask)">
          <g id="me">
            <g id="body">
              <path
                id="neck"
                d="M152.116 332.976L150.736 278.249L209.721 275.239L211.151 331.921C247.274 327.159 317.825 338.053 311.039 419.73L56.557 422.601C45.7193 344.179 115.748 330.175 152.116 332.976Z"
                className="skin-tone"
                stroke="black"
                strokeWidth="3"
              />
              <path
                id="shirt"
                className="shirt-color"
                d="M56.5573 422.613C45.7266 344.467 115.756 330.507 152.124 333.294C155.692 339.263 166.025 351.12 178.821 350.797C191.617 350.474 205.711 338.29 211.159 332.238C247.283 327.489 317.832 338.339 311.039 419.73L56.5573 422.613Z"
                stroke="black"
                strokeWidth="3"
              />
            </g>
            <g id="head">
              <path
                id="head-skin"
                d="M113.317 275.629C96.7444 257.55 94.922 192.92 96.0824 162.866C97.2428 132.811 107.794 79.5259 174.501 77.0723C241.207 74.6187 250.525 130.87 254.749 158.863C258.972 186.855 262.964 248.732 245.139 272.303C227.315 295.874 211.585 311.204 175.154 312.123C138.724 313.042 129.89 293.708 113.317 275.629Z"
                className="skin-tone"
                stroke="black"
                strokeWidth="3"
              />
              <path
                id="beard"
                opacity="0.4"
                d="M102.352 245.938C102.352 245.938 127.773 258.731 143.718 259.899C155.684 260.778 157.863 250.029 164.484 250.372C179.939 251.163 194.789 247.407 206.395 246.314C218.001 245.221 220.501 253.5 225.591 253.832C236.612 254.554 256.177 237.055 256.177 237.055C256.177 237.055 251.667 296.188 187.041 311.823C139.208 319.032 104.058 273.904 102.352 245.938Z"
                fill="#111111"
              />

              <g id="right-eye">
                <ellipse
                  id="right-eye-ball"
                  cx="208.456"
                  cy="189.244"
                  rx="7.5"
                  ry="10"
                  transform="rotate(-1.44517 208.456 189.244)"
                  fill="black"
                />
                <ellipse
                  id="right-eye-reflection"
                  cx="212.056"
                  cy="193.154"
                  rx="2"
                  ry="3"
                  transform="rotate(-1.44517 212.056 193.154)"
                  fill="white"
                />
              </g>
              <g id="left-eye">
                <ellipse
                  id="left-eye-ball"
                  cx="145.476"
                  cy="190.833"
                  rx="7.5"
                  ry="10"
                  transform="rotate(-1.44517 145.476 190.833)"
                  fill="black"
                />
                <ellipse
                  id="left-eye-reflection"
                  cx="148.076"
                  cy="194.768"
                  rx="2"
                  ry="3"
                  transform="rotate(-1.44517 148.076 194.768)"
                  fill="white"
                />
              </g>
              <g id="left-freckles">
                <circle
                  cx="139.747"
                  cy="208.947"
                  r="1.92253"
                  transform="rotate(-14.935 139.747 208.947)"
                  fill="#969696"
                />
                <circle
                  cx="137.519"
                  cy="215.511"
                  r="1.92253"
                  transform="rotate(-14.935 137.519 215.511)"
                  fill="#969696"
                />
                <circle
                  cx="144.949"
                  cy="213.529"
                  r="1.92253"
                  transform="rotate(-14.935 144.949 213.529)"
                  fill="#969696"
                />
              </g>
              <g id="right-freckles">
                <circle
                  cx="214.971"
                  cy="207.024"
                  r="1.92253"
                  transform="rotate(9.71923 214.971 207.024)"
                  fill="#969696"
                />
                <circle
                  cx="210.208"
                  cy="212.06"
                  r="1.92253"
                  transform="rotate(9.71923 210.208 212.06)"
                  fill="#969696"
                />
                <circle
                  cx="217.788"
                  cy="213.358"
                  r="1.92253"
                  transform="rotate(9.71923 217.788 213.358)"
                  fill="#969696"
                />
              </g>
              <path
                id="nose"
                d="M168.726 220.256C174.638 232.58 184.278 234.038 188.719 219.751"
                stroke="#6C6C6C"
              />
              <path
                id="mouth"
                d="M170.972 269.637C182.547 271.682 199.704 266.575 206.571 253.312"
                stroke="#0A0A0A"
                strokeWidth="2"
                strokeLinecap="round"
              />
              <g id="glasses">
                <path
                  id="glasses-frame"
                  d="M243.587 175.333C232.302 172.127 207.028 170.314 196.334 175.415C182.612 181.083 188.863 179.455 176.053 178.798C163.312 180.119 169.586 181.412 155.616 176.422C138.074 170.603 118.503 176.769 102.677 179.519L102.848 186.266C108.721 186.708 106.266 202.805 110.774 211.384C116.289 228.981 141.584 234.025 154.429 223.747C163.593 218.605 170.646 198.02 170.798 191.784C170.697 187.786 180.526 185.237 181.81 192.097C182.236 198.288 190.618 218.103 199.935 222.599C213.278 232.076 238.14 225.907 242.862 208.052C246.921 199.257 246.247 183.629 249.081 182.577C251.915 181.525 250.675 175.985 248.911 175.829C247.146 175.674 246.456 175.651 243.587 175.333ZM158.147 216.071C143.606 234.444 114.91 226.265 111.98 204.502C110.159 198.126 109.15 186.668 114.416 182.073C119.681 177.479 130.685 177.071 136.285 176.61C162.81 175.311 176.219 189.347 158.147 216.071V216.071ZM241.429 201.216C233.655 243.606 176.978 221.048 188.371 184.549C192.638 176.819 209.787 174.596 215.642 174.718C234.883 174.102 246.023 178.313 241.429 201.216Z"
                  fill="#0085FF"
                  fillOpacity="0.2"
                />
                <path
                  id="glasses-inner"
                  d="M158.535 216.381C167.609 202.968 168.937 192.532 164.34 185.585C159.743 178.639 149.561 175.485 136.253 176.141L134.606 176.272C131.441 176.463 128.288 176.817 125.159 177.331C121.047 178.065 116.857 179.331 114.107 181.721C111.356 184.111 110.222 188.351 110.03 192.627C109.907 196.667 110.397 200.702 111.483 204.594C114.513 226.795 143.71 235.031 158.535 216.381ZM187.985 184.279C182.191 202.861 193.724 217.885 207.634 222.855C214.599 225.35 222.201 225.349 228.619 221.996C235.036 218.643 240.079 211.954 242.099 201.239C244.39 189.728 242.782 182.696 237.959 178.666C235.257 176.591 232.062 175.251 228.688 174.779C224.436 174.111 220.126 173.885 215.827 174.103C210.971 174.152 206.14 174.818 201.452 176.086C198.695 176.796 196.034 177.837 193.528 179.187C191.241 180.334 189.321 182.097 187.985 184.279V184.279Z"
                  stroke="#0085FF"
                  strokeOpacity="0.4"
                />
              </g>
              <path
                id="left-eyebrow"
                d="M113.063 172.484C122.712 164.398 141.38 156.545 155.393 162.414"
                stroke="#333333"
                strokeWidth="7"
                strokeMiterlimit="10"
              />
              <path
                id="right-eyebrow"
                d="M195.742 162.286C207.645 158.294 227.93 157.813 238.839 168.351"
                stroke="#333333"
                strokeWidth="7"
                strokeMiterlimit="10"
              />
            </g>
            <g id="arm">
              <rect
                id="wrist"
                x="292.161"
                y="328.117"
                width="37.3397"
                height="27.4178"
                transform="rotate(7.44686 292.161 328.117)"
                className="skin-tone"
                stroke="black"
                strokeWidth="3"
              />
              <rect
                id="forearm"
                x="274.501"
                y="347.718"
                width="64.7781"
                height="138.23"
                rx="8.5"
                transform="rotate(7.44686 274.501 347.718)"
                className="shirt-color"
                stroke="black"
                strokeWidth="3"
              />
              <path
                id="hand"
                d="M283.696 323.735C279.601 318.954 276.97 313.897 274.865 308.451C272.464 302.236 271.102 295.74 269.174 289.404C267.628 284.356 265.255 279.599 262.153 275.327C260.105 272.468 259.692 269.64 261.263 267.217C262.868 264.739 266.364 263.473 269.487 264.288C273.357 265.294 275.299 268.458 277.389 271.436C281.425 277.183 283.033 283.932 285.24 290.436C285.59 291.628 286.144 292.75 286.878 293.753C287.048 293.978 287.276 294.152 287.539 294.256C287.801 294.36 288.087 294.39 288.365 294.342C289.128 294.242 288.826 293.579 288.89 293.145C290.647 281.114 292.476 269.097 293.934 257.027C294.975 248.351 296.26 239.704 297.391 231.038C297.754 228.271 298.898 226.115 301.474 224.825C303.814 223.659 306.138 223.96 308.235 225.185C310.504 226.517 311.879 228.584 311.573 231.357C310.997 236.534 310.337 241.702 309.704 246.873C309.414 249.211 309.116 251.549 308.809 253.886C308.237 258.321 306.954 272.323 306.387 276.764C306.302 277.441 305.87 278.318 307.097 278.493C308.324 278.668 308.39 277.854 308.5 277C309.715 267.581 311.653 248.595 312.889 239.169C313.498 234.487 314.072 229.804 314.731 225.13C315.264 221.352 318.737 218.779 322.644 219.157C326.426 219.515 329.366 222.722 328.952 226.549C328.007 235.124 326.841 243.675 325.757 252.238C325.109 257.338 323.436 272.435 322.815 277.538C322.73 278.238 322.186 279.244 323.53 279.44C324.7 279.609 324.814 278.784 324.932 277.934C325.806 271.61 327.687 255.286 328.576 248.963C329.307 243.801 329.999 238.631 330.814 233.478C331.351 230.098 334.943 227.023 339.041 227.674C340.907 227.943 342.6 228.917 343.77 230.396C344.941 231.875 345.499 233.746 345.332 235.625C344.882 240.136 344.191 244.625 343.602 249.123C342.547 257.125 338.562 282.708 337.512 290.712C337.433 291.336 337.08 292.126 338.187 292.301C339.295 292.476 339.401 291.85 339.5 291C340.192 285.084 343.721 261.576 344.621 255.693C345.201 251.877 345.484 248.037 346.105 244.236C346.726 240.435 350.513 237.83 354.53 238.441C358.046 238.974 360.769 242.814 360.264 246.599C357.86 264.745 355.452 282.89 353.04 301.034C351.855 310.17 348.698 318.531 342.901 325.657C335.912 334.26 326.649 339.123 315.53 339.454C308.777 339.654 302.263 337.756 296.269 334.459C291.198 331.668 286.726 328.19 283.696 323.735Z"
                className="skin-tone"
                stroke="black"
                strokeWidth="3"
              />
            </g>
          </g>
        </g>
        <g id="hair-container">
          <rect
            id="hair"
            x="72.1901"
            y="41.6335"
            width="185"
            height="134"
            transform="rotate(-1.44517 72.1901 41.6335)"
            fill="url(#pattern0)"
          />
          <path d="M113.317 275.629C96.7444 257.55 94.922 192.92 96.0824 162.866C97.2428 132.811 107.794 79.5259 174.501 77.0723C241.207 74.6187 250.525 130.87 254.749 158.863C258.972 186.855 262.964 248.732 245.139 272.303C227.315 295.874 211.585 311.204 175.154 312.123C138.724 313.042 129.89 293.708 113.317 275.629Z" />
        </g>
        <defs>
          <pattern
            id="pattern0"
            patternContentUnits="objectBoundingBox"
            width="1"
            height="1"
          >
            <use
              xlinkHref="#hair-pic"
              transform="scale(0.00540541 0.00746269)"
            />
          </pattern>
          <linearGradient
            id="gradient"
            x1="30.3706"
            y1="0.251419"
            x2="248.789"
            y2="418.316"
            gradientUnits="userSpaceOnUse"
          >
            <stop stopColor="#FF7A00" />
            <stop offset="1" stopColor="#F45800" />
          </linearGradient>
          <linearGradient
            id="gradient-midnight"
            x1="30.3706"
            y1="0.251419"
            x2="248.789"
            y2="418.316"
            gradientUnits="userSpaceOnUse"
          >
            <stop stopColor="#2563eb " />
            <stop offset="1" stopColor="#3b82f6 " />
          </linearGradient>
          <image
            id="hair-pic"
            width="185"
            height="134"
            xlinkHref="/static/hair.png"
          />
        </defs>
      </svg>
    </div>
  );
};

function animate() {
  const inTimeline = gsap
    .timeline({ delay: 0.5 })
    .set("#arm", {
      rotate: -30,
      x: 80,
      y: 200,
      transformOrigin: "bottom center"
    })
    .from("#bg-fill", {
      transformOrigin: "center center",
      scale: 0,
      ease: "back.out(0.65)"
    })
    .from("#me, #hair", {
      y: 500,
      duration: 0.8,
      ease: "back.out(0.65)"
    })
    .to("#arm", { y: 10, ease: "power1.inOut(0.75)" });
  const waveTimeline = gsap
    .timeline({ yoyo: true, repeat: -1 })
    .to("#head, #hair-container", {
      rotate: -1,
      ease: "power1.inOut(0.5)",
      transformOrigin: "bottom center"
    })
    .to("#arm", { rotate: -28, ease: "power1.inOut(0.75)" }, "<")
    .to(
      "#hand",
      {
        rotate: 10,
        transformOrigin: "bottom center",
        ease: "power1.inOut(0.75)"
      },
      "<0.1"
    )
    .to(
      "#body",
      {
        x: -0.5,
        ease: "power1.inOut(0.75)"
      },
      "<"
    )
    .timeScale(0.9);
  const blinking = gsap
    .timeline({ repeat: -1, repeatDelay: 4 })
    .to("#left-eye, #right-eye", {
      scaleY: 0.25,
      transformOrigin: "center center",
      duration: 0.1
    })
    .to("#left-eye, #right-eye", {
      scaleY: 1,
      transformOrigin: "center center",
      duration: 0.1
    });
  gsap.timeline().add(inTimeline).add(blinking).add(waveTimeline);
}

export default Me;
